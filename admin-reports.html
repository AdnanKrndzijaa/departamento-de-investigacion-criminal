<!-- Begin Page Content -->
<div class="container-fluid" id="admin-content">
  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-4">
      <h1 class="h3 mb-0 text-gray-800">Reports</h1>
      <button id="print-btn" onclick="window.print()" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
          class="fas fa-download fa-sm text-white-50"></i> Generate data</button>
    </div>
  
    <!-- Content Row -->
    <div class="row" id="dashboard-cards">
  
      <!-- Earnings (Monthly) Card Example -->
      <div class="col-xl-12 col-md-12">
        <div class="card border-left-primary shadow h-100 py-2">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col mr-2">
                <div class="mb-0">

                  <table class="table table-hover table-sm table-responsive w-100 d-block d-md-table">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Name</th>
                          <th scope="col">Category</th>
                          <th scope="col">Status</th>
                          <th scope="col">Action</th>
                        </tr>
                      </thead>
                      <tbody id="reports-list">
                        
                      </tbody>
                  </table>  
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
  
      
  </div>

  
<!-- Template Javascript -->
<script src="js/news-service.js"></script>
<script src="js/newsletter-service.js"></script>
<script src="js/wanted-service.js"></script>
<script src="js/reports-service.js"></script>
<script src="js/admin-service.js"></script>
<script src="js/jquery.validate.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; Departamento de Investigacion Criminal 2023</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->
      </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->
    </div>
    <!-- End of Content Wrapper -->

    <script>
      $.get("rest/admin", function(data) {
            $("#dashboard-cards").html("");
            var html = "";
            var admin = 0;
            var employee = 0;
            
            for (let i = 0; i<data.length - 1; i--) {
                if (data[i].type == "admin") {
                    admin++;
                } else {
                    employee++;
                }

                html += `
                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Total Registered Admin</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">

                              <h4>Total Admin: `+admin+`</h4>

                              </div>
                            </div>
                            <div class="col-auto">
                              <i class="fas fa-calendar fa-2x text-gray-300"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-xl-3 col-md-6 mb-4">
                      <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                          <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                              <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Total Registered Employees</div>
                              <div class="h5 mb-0 font-weight-bold text-gray-800">

                              <h4>Total Admin: `+employee+`</h4>

                              </div>
                            </div>
                            <div class="col-auto">
                              <i class="fas fa-calendar fa-2x text-gray-300"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    `;
                
                $("#dashboard-cards").html(html);
            }
        });

    </script>

  
<div class="modal fade" id="exampleModalR" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title">Report</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div class="list-group" id="report-item">

                </div>
                <div class="form-group">
                  <input type="hidden" name="id" id="id" class="form-control required" placeholder="Enter description">
              </div>
                <div class="form-group">
                  <div class="form-floating">
                  <select class="form-select" id="status">
                      <option value="none">None</option>
                      <option value="in-process">In process</option>
                      <option value="finished">Finished</option>
                      <option value="canceled">Canceled</option>
                      
                  </select>
                  <label for="service">Choose a status</label>
              </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-dark save-reports-button" onclick="ReportsService.update()">Save changes</button>
              </div>
      </div>
  </div>
</div>

<script>
  var token = localStorage.getItem("token");
    if (token){
        ReportsService.init();
    }else{
        window.location.replace("login.html");
    }
</script>

</html>
