<!-- Begin Page Content -->
<div class="container-fluid" id="admin-content">
  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-4">
      <h1 class="h3 mb-0 text-gray-800">News</h1>
      <div>
        <button class="d-none d-sm-inline-block btn btn-sm btn-success shadow-sm btn-success" data-bs-toggle="modal" data-bs-target="#addNewsModal">Add news</button>

        <button id="print-btn" onclick="window.print()" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
            class="fas fa-download fa-sm text-white-50"></i> Generate data</button>
      </div>
  </div>
  
    <!-- Content Row -->
    <div class="row" id="dashboard-cards">
  
      <!-- Earnings (Monthly) Card Example -->
      <div class="col-xl-12 col-md-12">
        <div class="card border-left-primary shadow h-100 py-2">
          <div class="card-body">
            <div class="row no-gutters align-items-center">
              <div class="col mr-2">
                <div class="mb-0">
                  <div class="d-sm-flex align-items-end justify-content-end">
                    <div class="ml-auto text-right">
                      <input type="text" class="form-control-sm mr-lg-2" id="search-bar" placeholder="Search news ..." style="width: 300dp;">
                      <button type="button" class="btn btn-primary btn-sm" onclick="event.preventDefault(); NewsService.list_by_search();">Search</button>
                    </div>
                  </div>
                  
                  
                  <br>
                  <table class="table table-hover table-sm table-responsive w-100 d-block d-md-table">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Title</th>
                          <th scope="col">Date</th>
                          <th scope="col">Picture</th>
                          <th scope="col">Description</th>
                          <th scope="col">Action</th>
                        </tr>
                      </thead>
                      <tbody id="news-list">
                        
                      </tbody>
                  </table>  
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
  
      
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>

<!-- Template Javascript -->
<script src="js/news-service.js"></script>
<script src="js/admin-service.js"></script>
<script src="js/jquery.validate.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; Departamento de Investigacion Criminal 2023</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->
      </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->
    </div>
    <!-- End of Content Wrapper -->
    
</body>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title">Edit news</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  
                  <div class="form-floating">
                      <input name="title" id="title" type="text" class="form-control required" placeholder="Enter title">
                      <label>Title</label>
                    </div>
                    <div class="form-floating">
                      <textarea class="form-control required" name="description" placeholder="Leave a message here" id="description"
                          style="margin-top: 10px; height: 130px"></textarea>
                      <label for="description">Description</label>
                  </div>
                  <div class="form-floating">
                      <input style="margin-top: 10px;" name="date" id="date" type="datetime" class="form-control required" placeholder="Date">
                      <label>Date</label>
                    </div>
                  <div class="form-floating">
                    <input style="margin-top: 10px;" type="text" id="image" name="image" class="form-control required">
                    <label>Image</label>
                  </div>
                  <div class="form-group">
                    <input type="hidden" name="id" id="id" class="form-control required" placeholder="Enter description">
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-dark save-news-button" onclick="NewsService.update()">Save changes</button>
              </div>
      </div>
  </div>
</div>

<div class="modal fade" id="addNewsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <form id="addNewsForm">
              <div class="modal-header">
                  <h5 class="modal-title">Add News</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <div class="form-floating">
                      <input name="title" id="title" type="text" class="form-control required" placeholder="Enter title">
                      <label>Title</label>
                    </div>
                    <div class="form-floating">
                      <textarea class="form-control required" name="description" placeholder="Enter description" id="description"
                          style="margin-top: 10px; height: 130px"></textarea>
                      <label for="description">Description</label>
                  </div>
                  <div class="form-floating">
                      <input style="margin-top: 10px;" name="date" id="date" type="datetime" class="form-control required" placeholder="Date">
                      <label>Date</label>
                    </div>
                  <div class="form-floating">
                    <input style="margin-top: 10px;" type="text" id="image" name="image" class="form-control required" placeholder="Enter image (.png/.jpg)">
                    <label>Image (.png/.jpg)</label>
                  </div>

              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-dark ">Save changes</button>
              </div>
          </form>
      </div>
  </div>
</div>

<script>
  var token = localStorage.getItem("token");
    if (token){          
        NewsService.init();      
    }else{
        window.location.replace("login.html");
    }

  
</script>

</html>
